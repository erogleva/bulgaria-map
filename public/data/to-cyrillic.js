import { transliterate, slugify } from 'transliteration'
import fs from 'fs';
import path from "path";

const cities = JSON.parse(fs.readFileSync(path.resolve("municipalities_latin.geojson"), "utf8"));

const latinToCyrillic = {
    "Sofia": "София",
    "Plovdiv": "Пловдив",
    "Varna": "Варна",
    "Burgas": "Бургас",
    "Ruse": "Русе",
    "Stara Zagora": "Стара Загора",
    "Pleven": "Плевен",
    "Sliven": "Сливен",
    "Dobrich": "Добрич",
    "Shumen": "Шумен",
    "Pernik": "Перник",
    "Haskovo": "Хасково",
    "Yambol": "Ямбол",
    "Pazardzhik": "Пазарджик",
    "Blagoevgrad": "Благоевград",
    "Veliko Tarnovo": "Велико Търново",
    "Vratsa": "Враца",
    "Gabrovo": "Габрово",
    "Kardzhali": "Кърджали",
    "Targovishte": "Търговище",
    "Montana": "Монтана",
    "Vidin": "Видин",
    "Silistra": "Силистра",
    "Kazanlak": "Казанлък",
    "Asenovgrad": "Асеновград",
    "Kyustendil": "Кюстендил",
    "Dupnitsa": "Дупница",
    "Lovech": "Ловеч",
    "Razgrad": "Разград",
    "Smolyan": "Смолян",
    "Troyan": "Троян",
    "Svishtov": "Свищов",
    "Petrich": "Петрич",
    "Samokov": "Самоков",
    "Gotse Delchev": "Гоце Делчев",
    "Kostinbrod": "Костинброд",
    "Karlovo": "Карлово",
    "Radomir": "Радомир",
    "Botevgrad": "Ботевград",
    "Septemvri": "Септември",
    "Knezha": "Кнежа",
    "Svilengrad": "Свиленград",
    "Teteven": "Тетевен",
    "Aytos": "Айтос",
    "Elin Pelin": "Елин Пелин",
    "Karnobat": "Карнобат",
    "Nova Zagora": "Нова Загора",
    "Omurtag": "Омуртаг",
    "Chirpan": "Чирпан",
    "Berkovitsa": "Берковица",
    "Tryavna": "Трявна",
    "Kula": "Кула",
    "Lyaskovets": "Лясковец",
    "Anton": "Антон",
    "Bozhurishte": "Божурище",
    "Gorna Oryahovitsa": "Горна Оряховица",
    "Hissarya": "Хисаря",
    "Kubrat": "Кубрат",
    "Lom": "Лом",
    "Madan": "Мадан",
    "Novi Pazar": "Нови Пазар",
    "Sredets": "Средец",
    "Tutrakan": "Тутракан",
    "Zlatitsa": "Златица",
    "Belene": "Белене",
    "Breznik": "Брезник",
    "Byala Slatina": "Бяла Слатина",
    "Chepelare": "Чепеларе",
    "Dryanovo": "Дряново",
    "Isperih": "Исперих",
    "Kavarna": "Каварна",
    "Kozloduy": "Козлодуй",
    "Levski": "Левски",
    "Nedelino": "Неделино",
    "Novi Iskar": "Нови Искър",
    "Pavlikeni": "Павликени",
    "Polski Trambesh": "Полски Тръмбеш",
    "Simitli": "Симитли",
    "Tvarditsa": "Твърдица",
    "Zemen": "Земен",
    "Maritsa": "Марица",
    "Miziya": "Мизия",
    "Sarnitsa": "Сърница",
    "Svoge": "Своге",
    "Chelopech": "Челопеч",
    "Dimovo": "Димово",
    "Dolna Banya": "Долна Баня",
    "Elhovo": "Елхово",
    "Rakovski": "Раковски",
    "Straldzha": "Стралджа",
    "Zavet": "Завет",
    "Brezovo": "Брезово",
    "Krichim": "Кричим",
    "Lyubimets": "Любимец",
    "Malko Tarnovo": "Малко Търново",
    "Parvomay": "Първомай",
    "Sungurlare": "Сунгурларе",
    "Antonovo": "Антоново",
    "Aksakovo": "Аксаково",
    "Belogradchik": "Белоградчик",
    "Bolyarovo": "Болярово",
    "Chepinets": "Чепинец",
    "Dimchevo": "Димчево",
    "Dulovo": "Дулово",
    "Gulyantsi": "Гулянци",
    "Lyutibrod": "Лютиброд",
    "Nikopol": "Никопол",
    "Oryahovo": "Оряхово",
    "Bregovo": "Брегово",
    "Boynitsa": "Бойница",
    "Gramada": "Грамада",
    "Kozarevetz": "Козаревец",
    "Maglizh": "Мъглиж",
    "Makresh": "Макреш",
    "Momin Prohod": "Момин проход",
    "Opaka": "Опака",
    "Sveti Vlas": "Свети Влас",
    "Tsarevo": "Царево",
    "Varshets": "Вършец",
    "Zlatograd": "Златоград",
    "Novo Selo": "Ново село",
    "Lyubcha": "Любча",
    "Strazhitsa": "Стражица",
    "Cherven Bryag": "Червен бряг",
    "Yakimovo": "Якимово",
    "Valchedram": "Вълчедръм",
    "Dimotika": "Димотика",
    "Medkovets": "Медковец",
    "Chiprovtsi": "Чипровци",
    "Georgi Bamyanovo": "Георги Бамяново",
    "Boychinovtsi": "Бойчиновци",
    "Nikolaevo": "Николаево",
    "Gurkovo": "Гурково",
    "Bratya Daskalovi": "Братя Даскалови",
    "Opan": "Опан",
    "Galabovo": "Гълъбово",
    "Pavel Banya": "Павел Баня",
    "Simeonovgrad": "Симеоновград",
    "Kalofer": "Калофер",
    "Ruen": "Руен",
    "Svetlin": "Светлин",
    "Tsenovo": "Ценово",
    "Chavdar": "Чавдар",
    "Kotel": "Котел",
    "Momchilgrad": "Момчилград",
    "Tunzha": "Тунджа",
    "Strumyani": "Струмяни",
    "Mogilane": "Могилане",
    "Kameno": "Камено",
    "Primorsko": "Приморско",
    "Sozopol": "Созопол",
    "Pomorie": "Поморие",
    "Aheloy": "Ахелой",
    "Nesebar": "Несебър",
    "Kavakli": "Кавакли",
    "Chernoochene": "Черноочене",
    "Momina Tsarkva": "Момина Църква",
    "Suvorovo": "Суворово",
    "Provadia": "Провадия",
    "Beloslav": "Белослав",
    "Devnya": "Девня",
    "Dolni Chiflik": "Долни Чифлик",
    "Byala": "Бяла",
    "Obzor": "Обзор",
    "Kiten": "Китен",
    "Ahtopol": "Ахтопол",
    "Tsarevets": "Царевец",
    "Vetovo": "Ветово",
    "Iskar": "Искър",
    "Mirkovo": "Мирково",
    "Kostenets": "Костенец",
    "Zlatitsa-Pirdop": "Златица-Пирдоп",
    "Elena": "Елена",
    "Dalgopol": "Дългопол",
    "Treklyano": "Трекляно",
    "Bobov Dol": "Бобов дол",
    "Sapareva Banya": "Сапарева баня",
    "Rila": "Рила",
    "Boboshevo": "Бобошево",
    "Kocherinovo": "Кочериново",
    "Nevestino": "Невестино",
    "Tran": "Трън",
    "Kovachevtsi": "Ковачевци",
    "Godech": "Годеч",
    "Dragoman": "Драгоман",
    "Slivnitsa": "Сливница",
    "Pravets": "Правец",
    "Etropole": "Етрополе",
    "Pirdop": "Пирдоп",
    "Apriltsi": "Априлци",
    "Koprivshtitsa": "Копривщица",
    "Gorna Malina": "Горна Малина",
    "Ihtiman": "Ихтиман",
    "Lesichovo": "Лесичово",
    "Velingrad": "Велинград",
    "Rakitovo": "Ракитово",
    "Batak": "Батак",
    "Peshtera": "Пещера",
    "Bratsigovo": "Брацигово",
    "Laki": "Лъки",
    "Belovo": "Белово",
    "Panagyurishte": "Панагюрище",
    "Strelcha": "Стрелча",
    "Kostandovo": "Костандово",
    "Sopot": "Сопот",
    "Hisarya": "Хисаря",
    "Kaloyanovo": "Калояново",
    "Krivodol": "Криводол",
    "Mezdra": "Мездра",
    "Saedinenie": "Съединение",
    "Stamboliyski": "Стамболийски",
    "Perushtitsa": "Перущица",
    "Rodopi": "Родопи",
    "Asenovtsi": "Асеновци",
    "Kuklen": "Куклен",
    "Sadovo": "Садово",
    "Ardino": "Ардино",
    "Dzebel": "Джебел",
    "Kirkovo": "Кирково",
    "Krumovgrad": "Крумовград",
    "Harmanli": "Харманли",
    "Mineralni Bani": "Минерални бани",
    "Dimitrovgrad": "Димитровград",
    "Stambolovo": "Стамболово",
    "Madzharovo": "Маджарово",
    "Ivaylovgrad": "Ивайловград",
    "Sevlievo": "Севлиево",
    "Zlataritsa": "Златарица",
    "Suhindol": "Сухиндол",
    "Slivo Pole": "Сливо поле",
    "Dve Mogili": "Две могили",
    "Lyubim": "Любим",
    "Borovo": "Борово",
    "Tsar Kaloyan": "Цар Калоян",
    "Loznitsa": "Лозница",
    "Sitovo": "Ситово",
    "Glavnitsa": "Главница",
    "Alfatar": "Алфатар",
    "Krushari": "Крушари",
    "Tervel": "Тервел",
    "Balchik": "Балчик",
    "Shabla": "Шабла",
    "Dobrichka": "Добричка",
    "General Toshevo": "Генерал Тошево",
    "Valchi Dol": "Вълчи дол",
    "Vetrino": "Ветрино",
    "Provadiya": "Провадия",
    "Avren": "Аврен",
    "Kaolinovo": "Каолиново",
    "Venets": "Венец",
    "Hitrino": "Хитрино",
    "Nikola Kozlevo": "Никола Козлево",
    "Veliki Preslav": "Велики Преслав",
    "Varbitsa": "Върбица",
    "Smyadovo": "Смядово",
    "Yakoruda": "Якоруда",
    "Belitsa": "Белица",
    "Razlog": "Разлог",
    "Stolichna": "Столична",
    "Borino": "Борино",
    "Dospat": "Доспат",
    "Banite": "Баните",
    "Devin": "Девин",
    "Satovcha": "Сатовча",
    "Hadzhidimovo": "Хаджидимово",
    "Bansko": "Банско",
    "Roman": "Роман",
    "Letnitsa": "Летница",
    "Sandanski": "Сандански",
    "Strumyarni": "Струмяни",
    "Kresna": "Кресна",
    "Garmen": "Гърмен",
    "Radnevo": "Раднево",
    "Dzhebel": "Джебел",
    "Rudozem": "Рудозем",
    "Yablanitsa": "Ябланица",
    "Lukovit": "Луковит",
    "Ugarchin": "Угърчин",
    "Dolni Dabnik": "Долни Дъбник",
    "Dolna Mitropoliya": "Долна Митрополия",
    "Borovan": "Борован",
    "Hayredin": "Хайредин",
    "Brusartsi": "Брусарци",
    "Chuprene": "Чупрене",
    "Tundzha": "Тунджа",
    "Kaspichan": "Каспичан",
    "Samuil": "Самуил",
    "Glavinitsa": "Главиница",
    "Popovo": "Попово",
    "Ivanovo": "Иваново",
    "Ruzhinsi": "Ружинци",
    "Topolovgrad": "Тополовград",
    "Pordim": "Пордим",
    "Kaynardzha": "Кайнарджа",
    // ...add all cities, municipalities, and regions
};

cities.features.forEach(f => {
    const latinName = f.properties.name;
    if (!latinToCyrillic[latinName]) {
        console.warn(`No Cyrillic mapping found for municipality: ${latinName}`);
    }
    f.properties.name = latinToCyrillic[latinName] || latinName; // fallback to original
});

fs.writeFileSync('./municipalities.geojson', JSON.stringify(cities, null, 2));
